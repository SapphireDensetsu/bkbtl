#summary Порты БК.

= Порты БК =

== 0177130 ==
Регистр управления КНГМД.

== 0177132 ==
Регистр данных КНГМД.

== 177660 ==
Регистр состояния клавиатуры.
 * бит 6 -- разрешение прерывание от клавиатуры, "0" -- разрешено прерывание по вектору 060 либо 0274. Начальное состояние: "0".
 * бит 7 -- готовность: "1" -- в регистре данных клавиатуры (177662) готов код нажатой клавиши. Начальное состояние: "0".
 * другие биты: "0".

== 177662 ==
Регистр данных клавиатуры.
 * биты 0-6: код клавиши. Доступ только по чтению.
 * биты 8-11: (только БК-0011) палитра.
 * бит 14: разрешение прерывания по таймеру (50 Гц), "0" -- прерывание разрешено.
 * бит 15: (только БК-0011) текущий буфер экрана, "0" -- #5, "1" -- #6.

== 177664 ==
Регистр скроллинга.
 * биты 0-7: смещение скроллинга.
 * бит 9: сокращенный режим экрана, "0" -- сокращенный, "1" - полный экран.

== 177700 ==
Непонятно что.

== 177702 ==
Непонятно что.

== 177704 ==
Непонятно что.

== 177706 ==
Программируемый таймер -- регистр установки.

== 177710 ==
Программируемый таймер -- реверсивный счетчик.

== 177712 ==
Программируемый таймер -- регистр управления.

== 177714 ==
Порт принтера, выводы на системном разъеме.

=== Covox (запись) ===
TODO

=== Джойстик (чтение) ===
 * бит 0 -- кнопка 1
 * бит 1 -- кнопка 2
 * бит 2 -- кнопка 3
 * бит 3 -- кнопка 4
 * бит 4 -- вправо
 * бит 5 -- вниз
 * бит 9 -- влево
 * бит 10 -- вверх

== 177716 ==
Системный регистр.

По чтению:
 * TODO

По записи, бит 11 = "0":
 * TODO

По записи, бит 11 = "1":
 * TODO